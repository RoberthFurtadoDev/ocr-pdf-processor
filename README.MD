# ğŸš€ Processador AssÃ­ncrono de Documentos com OCR na Nuvem

## ğŸ¯ Objetivo do Projeto

Este projeto demonstra a construÃ§Ã£o de um sistema backend robusto, escalÃ¡vel e 100% cloud-native, projetado para resolver um desafio de negÃ³cio real: a extraÃ§Ã£o de texto de documentos PDF de forma assÃ­ncrona. A soluÃ§Ã£o utiliza uma arquitetura moderna, orientada a eventos, para garantir alta performance e resiliÃªncia, mesmo sob alta carga de trabalho.

## ğŸ’¡ O Problema de NegÃ³cio

Empresas de diversos setores (financeiro, saÃºde, jurÃ­dico) lidam com um volume massivo de documentos nÃ£o estruturados, como faturas, contratos e formulÃ¡rios. Extrair informaÃ§Ãµes valiosas desses arquivos manualmente Ã© um processo lento, caro e sujeito a erros.

Este projeto automatiza essa tarefa, criando um pipeline de dados que:

* Recebe um documento PDF via API REST.
* Processa o arquivo em segundo plano, sem impactar a experiÃªncia do usuÃ¡rio.
* Utiliza InteligÃªncia Artificial para realizar o Reconhecimento Ã“ptico de Caracteres (OCR).
* Armazena o texto extraÃ­do de forma estruturada em um banco de dados, pronto para ser consultado, indexado ou analisado.

## ğŸ—ï¸ Arquitetura da SoluÃ§Ã£o

A espinha dorsal do projeto Ã© uma arquitetura orientada a eventos e totalmente desacoplada, orquestrando diferentes serviÃ§os da AWS para criar um fluxo de trabalho resiliente.

### Fluxo do Processamento:
![Fluxo de Processamento do PDF](src/main/java/br/com/pdfprocessor/assets/fluxo-processamento.svg)

## ğŸ› ï¸ DecisÃµes TÃ©cnicas

* **Java com Spring Boot**: pela robustez, ecossistema maduro e facilidade de criar APIs REST.
* **Amazon SQS**: desacopla o recebimento do arquivo do seu processamento.
* **Amazon S3**: armazenamento de objetos confiÃ¡vel e barato.
* **Amazon Textract**: serviÃ§o de OCR gerenciado e altamente preciso.
* **Pivot de Tesseract para Textract**: migraÃ§Ã£o estratÃ©gica para IA gerenciada e mais confiÃ¡vel.

## ğŸ’» Tecnologias Utilizadas

| Tecnologia          | DescriÃ§Ã£o                                                              | VersÃ£o (se aplicÃ¡vel) |
| ------------------- | ---------------------------------------------------------------------- | --------------------- |
| **Java**            | Linguagem de programaÃ§Ã£o principal.                                    | 17                    |
| **Spring Boot**     | Framework para criaÃ§Ã£o de APIs REST de forma rÃ¡pida e eficiente.       | 3.x                   |
| **Spring Data JPA** | Facilita a persistÃªncia de dados e a comunicaÃ§Ã£o com o banco.          | 3.x                   |
| **PostgreSQL**      | Sistema de gerenciamento de banco de dados relacional.                 | 16 ou superior        |
| **Amazon S3**       | ServiÃ§o de armazenamento de objetos para os arquivos PDF.              | N/A                   |
| **Amazon SQS**      | ServiÃ§o de fila de mensagens para o processamento assÃ­ncrono.          | N/A                   |
| **Amazon Textract** | ServiÃ§o de IA para extraÃ§Ã£o de texto (OCR) de alta precisÃ£o.           | N/A                   |
| **Lombok**          | Biblioteca para reduzir o cÃ³digo boilerplate (getters, setters, etc.). | 1.18.30               |
| **Maven**           | Ferramenta de automaÃ§Ã£o de build e gerenciamento de dependÃªncias.      | 3.8+                  |
| **IntelliJ IDEA**   | Ambiente de Desenvolvimento Integrado (IDE).                           | Community Edition     |
| **Postman**         | Ferramenta para testar os endpoints da API.                            | N/A                   |
| **Git & GitHub**    | Sistema de controle de versÃ£o.                                         | N/A                   |

## âš™ï¸ Como Executar o Projeto

### âœ… PrÃ©-requisitos

* Java (JDK 17)
* Maven 3.8+
* Conta na AWS com as credenciais configuradas via AWS CLI (`aws configure`)
* PostgreSQL instalado e rodando

### ğŸš€ Passos para ConfiguraÃ§Ã£o

1. **Clone o repositÃ³rio**:

```bash
git clone https://github.com/seu-usuario/ocr-pdf-processor.git
```

2. **Configure o `application.properties`**:

* Localize: `src/main/resources/application.properties`
* Atualize as propriedades:

    * `spring.datasource.url`
    * `spring.datasource.username`
    * `spring.datasource.password`
    * `spring.cloud.aws.credentials.access-key`
    * `spring.cloud.aws.credentials.secret-key`
    * `app.aws.s3.bucket-name`

3. **Crie os Recursos na AWS**:

* Bucket no **Amazon S3**
* Fila padrÃ£o no **Amazon SQS**
* Conceda permissÃµes IAM: `AmazonS3FullAccess`, `AmazonSQSFullAccess`, `AmazonTextractFullAccess`

4. **Crie o Banco de Dados**:

* Crie o schema com o nome definido em `spring.datasource.url`

5. **Execute a AplicaÃ§Ã£o**:

* Rode a classe `OcrPdfProcessorApplication.java`
* O Hibernate criarÃ¡ automaticamente a tabela `processamentos_pdf`

## ğŸ”Œ Endpoints da API

### 1. Upload de PDF

Inicia o processo de extraÃ§Ã£o de texto de um arquivo PDF.

* **URL**: `/api/pdf/upload`
* **MÃ©todo**: `POST`
* **Body**: `form-data`

    * `file` â†’ (Selecionar arquivo PDF)

#### âœ… Exemplo de Resposta:

```json
{
  "idProcessamento": "a1b2c3d4-e5f6-7890-1234-567890abcdef",
  "status": "AGUARDANDO",
  "mensagem": "Arquivo recebido. O processamento foi iniciado."
}
```

### 2. Consultar Status do Processamento

Verifica o status atual de um trabalho de processamento.

* **URL**: `/api/pdf/status/{id}`
* **MÃ©todo**: `GET`

#### ğŸ” Exemplo de Resposta (Processando):

```json
{
  "idProcessamento": "a1b2c3d4-e5f6-7890-1234-567890abcdef",
  "status": "PROCESSANDO"
}
```

#### âœ… Exemplo de Resposta (ConcluÃ­do):

```json
{
  "idProcessamento": "a1b2c3d4-e5f6-7890-1234-567890abcdef",
  "status": "CONCLUIDO",
  "textoExtraido": "Este Ã© o texto completo que foi extraÃ­do do seu documento PDF..."
}
```

#### âŒ Exemplo de Erro (404):

```json
{
  "mensagem": "ID de processamento nÃ£o encontrado."
}
```

---

> Feito com ğŸ’» e â˜ï¸ por Roberth Furtado Ferreira de Oliveira
